<!DOCTYPE html>
<html>
	<head>
		<script>
			var listaClienti=[
				{
					nume:"Nourescu3",
					telefon:"123"
					
				},
				{
					nume:"Nourescu3",
					telefon:"2333232"
				},
				{
					nume:"Nourescu3",
					telefon:"231232342"
				}
			];
			var indexModificat=-1;
		function adaugaClient(form, event){
			event.preventDefault();
			if(indexModificat!==-1){
				listaClienti[indexModificat]={
					nume: form.querySelector("[name=nume]").value,
					telefon: form.querySelector("[name=telefon]").value,
				};
				indexModificat=-1;
			}else{
				listaClienti.push({
					nume: form.querySelector("[name=nume]").value,
					telefon: form.querySelector("[name=telefon]").value,
				});
			}
			drawClienti();
		}
		function sterge(index){
			listaClienti.splice(index,1);
			drawClienti();
		}
		function modifica(index){
			var client = listaClienti[index];
			document.querySelector("form [name=nume]").value=client.nume;
			document.querySelector("form [name=telefon]").value=client.telefon;
			indexModificat=index;
		}
		function drawClienti(){
			var tabel=document.querySelector("#listaClienti tbody");
			var str="";
			for(var i=0;i<listaClienti.length;i++){
				
				var rand = `<tr>
					<td>${listaClienti[i].nume}</td>
					<td>${listaClienti[i].telefon}</td>
					<td><a href="#" onclick="modifica(${i})" >Modifica</a></td>
					<td><a href="#" onclick="sterge(${i})" >Sterge</a></td>
				</tr>`;
				str +=rand;
			}
			console.log(str);
			tabel.innerHTML=str;
		}
		
		
		</script>
		
	</head>
<body onload="drawClienti();">
	<form method="post" onsubmit="adaugaClient(this,event);" style="background-color:#ffd100;border-radius:5px;max-width:500px;">
		<fieldset style="border: 0px dashed #676767;">
		<legend style="border: 0px dashed #676767;border-radius: 10px;padding: 0 5px;">Agenda</legend>
	  
		<label for="nume">Nume:</label>
		<input name="nume" id="nume" type="text">

		<label for="telefon">Telefon:</label> 
		<input name="telefon" id="telefon" type="number"><br>
			
			
		
		<div style="text-align:center;"><input type="submit" value="Salveaza"/></div>
	  
	 </fieldset>
	</form>
	<br />
	<table id="listaClienti" style="background-color:#ffd100;border-radius:5px;padding: 20px;">
		<thead>
			<tr>
				<td>Nume</td>
				<td>Telefon</td>
				<td></td>
				<td></td>
			</tr>
		</thead>
		<tbody></tbody>
	</table>

</body>
</html>